#!/usr/bin/env bash

xset dpms 300 300 300 &

export XSECURELOCK_SHOW_HOSTNAME=0
export XSECURELOCK_SHOW_USERNAME=0
export XSECURELOCK_AUTH_BACKGROUND_COLOR=crimson
export XSECURELOCK_AUTH_TIMEOUT=300
export XSECURELOCK_BLANK_TIMEOUT=300
export XSECURELOCK_BLANK_DPMS_STATE=off

# dim after 2min, lock 1m later
xset s 120 60
export XSECURELOCK_WAIT_TIME_MS=60000
export XSECURELOCK_DIM_TIME_MS=3000

xss-lock \
    -n /usr/lib/xsecurelock/dimmer \
    -l \
    -- sh -c "ssh-add -D; xsecurelock"
